---
name: oauth2-proxy

packages:
- oauth2-proxy

templates:
  bin/ctl: bin/ctl
  bin/monit_debugger: bin/monit_debugger
  helpers/ctl_setup.sh: helpers/ctl_setup.sh
  helpers/ctl_utils.sh: helpers/ctl_utils.sh
  config/cg-logo.png: config/cg-logo.png
  config/oauth2-proxy.cfg.erb: config/oauth2-proxy.cfg

properties:
  address:
    description: Proxy listen address
  upstream:
    description: Proxy upstream address
  provider:
    description: OAuth provider
  client_id:
    description: OAuth client ID
  client_secret:
    description: OAuth client secret
  cookie_secret:
    description: Cookie secret
  email_domain:
    description: Authenticate users with matching domains
  redirect_url:
    description: OAuth redirect URL
  oidc_issuer_url:
    descrption: OIDC issuer URL
  scope:
    description: OAuth Scope
  oidc_groups_claim:
    description: OAuth Group claim (default is groups)
  allowed_groups:
    description: Restrict login to members of a group
